{% extends 'base.html' %}
{% load highlight %}
{% block title %}Search{% endblock %}

{% block content %}
<div class="col-md-9">
    <div class="row text-center vertical-middle-sm">
        <h1>Result</h1>
    </div>
    {% if query %}
    {% for result in page.object_list %}<div class="media">
        <a href="{{  result.object.get_absolute_url }}" class="list-group-item active">
            {% if result.object.avatar %}
            <div class="media-left">
                <img src="{{  result.object.image.url }}" alt="image" style="max-width: 100px; border-radius: 20px">
            </div>
            {% endif %}
            <div class="media-body">
                <h4 class="list-group-item-heading">{% highlight result.object.recipeName with query %}</h4>
                <p class="list-group-item-text">descriptionï¼š{% highlight result.object.description with query %}</p>
            </div>
        </a>
    </div>
    {% empty %}
    <h3>No recipe found</h3>
    {% endfor %}
    {% endif %}

    {# {% include 'paginator.html' %}#}

    <div class="pagination">
        <span class="step-links">
            {% if page.has_previous %}
            <a href="?q={{ query }}&page={{ page.previous_page_number }}">previous page</a>
            {% endif %}

            <span class="current">
                Page{{ page.number }} of {{ page.paginator.num_pages }}
            </span>

            {% if page.has_next %}
            <a href="?q={{ query }}&page={{ page.next_page_number }}">next page</a>
            {% endif %}
        </span>
    </div>
</div>

<style>
    span.highlighted {
        color: red;
    }
</style>

{% endblock %}